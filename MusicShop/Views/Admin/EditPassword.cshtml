
@{
    ViewBag.Title = "EditPassword";
}

<h2>EditPassword</h2>

@section logged{
    @if (Session == null || Session["userType"] == null || Session["userType"].ToString() != "staff")
    {
        Response.Redirect(Url.Action("Login", "Admin"));
    }
}

<script>
    function Match() {
        if ($("#txtNewPassword1").val() !== $("#txtNewPassword2").val()) {
            $("#spnNoMatchError").text("New passwords entered do not match each other.");
            return false;
        }
        return true;
    }
</script>



<h3>@ViewBag.Message</h3>

<div id="divLoginForm">

    @using (Html.BeginForm("EditPassword", "Admin", FormMethod.Post, new { id = "frmChangePassword", onsubmit = "return Match()" }))
    {

        <p>
            @Html.Label("lblCurrPassword", "Current Password")
            <br />
            @Html.Password("txtCurrPassword")
        </p>
        <span id="spnNoMatchError" style="color: red"></span>
        <p>
            @Html.Label("lblNewPassword1", "New Password")
            <br />
            @Html.Password("txtNewPassword1")
        </p>
        <p>
            @Html.Label("lblNewPassword2", "Repeat New Password")
            <br />
            @Html.Password("txtNewPassword2")
        </p>
        <input type="submit" value="Edit Password" />

    }

</div>
