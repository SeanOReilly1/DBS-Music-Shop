@model IEnumerable<MusicShop.Models.Order>
@{
    ViewBag.Title = "AdminOrders";
}

@if (Session == null || Session["userType"] == null || Session["userType"].ToString() != "staff")
{
    Response.Redirect(Url.Action("Login", "Admin"));
}

<h2>AdminOrders</h2>

@if (Model == null)
{
    <h3>There are no orders yet.</h3>
}
else
{
    <h4>Click the customers email to see contents of the order</h4>

    <table><thead><tr><th>Order ID</th><th>Customer</th><th>Order Date</th></tr></thead><tbody>


            @foreach (var order in Model)
            {
                <tr><td>@order.OrderID.ToString()</td>
                    <td>@Html.ActionLink(order.CustomerEmail, "AdminOrderItems", new { ID = order.OrderID })</td>
                    <td>@order.OrderDate.ToString()</td>
                </tr>
            }
        </tbody>
    </table>
}